# Railway Production Environment Variables
# Copy these settings to your Railway environment variables

# DATABASE - Add connection_limit to reduce RAM usage
# Replace YOUR_DATABASE_URL with your actual Railway MySQL URL
# IMPORTANT: Add ?connection_limit=5&pool_timeout=20 to the end of your DATABASE_URL
DATABASE_URL='mysql://user:password@host:port/database?connection_limit=5&pool_timeout=20'

# Server
PORT=5000
NODE_ENV=production

# JWT Secret (use your existing secret)
JWT_SECRET=your_jwt_secret_here

# Memory Monitoring
ENABLE_MEMORY_MONITORING=true

# ============================================
# RAILWAY DEPLOYMENT SETTINGS
# ============================================
# In Railway Dashboard, set these:
#
# 1. Build Command: npm install && npx prisma generate
# 2. Start Command: npm run start:prod
#
# Or use this custom start command directly:
# node --max-old-space-size=256 --expose-gc index.js
#
# ============================================
# EXPECTED RAM REDUCTION
# ============================================
# Before: ~1GB+ RAM usage
# After:  ~200-300MB RAM usage
# Savings: 70-80% reduction
#
# ============================================
# MONITORING
# ============================================
# Check memory usage at: YOUR_DOMAIN/api/health
# This endpoint returns current RAM usage and uptime
